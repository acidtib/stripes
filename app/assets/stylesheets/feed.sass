@import "mixins"

.photos
  margin-top: 30px

  .thumbnail
    @include white-bg-round-corners
    display:    block
    float:      left
    position:   relative
    margin:
      top: 0
      bottom:   30px
    background:
      // image: url('/assets/spinner.gif')
      position: center
      repeat: no-repeat
    padding:
      left: 0
      right: 0
    overflow: hidden
    -webkit-transition: box-shadow 2s

    .ratio
      margin-top: 100%

    &:hover
      box-shadow: transparentize(#fff, 0.6) 0px 0px 55px

      a.link-to-photo span.title
        display: block
        opacity: 0.9
        height: 2.5em

    a.link-to-photo
      display: block
      position: absolute
      top: 0
      left: 0
      width: 93.865030674846628% // 306 ÷ 326
      margin:
        top: 0.712857142857143em // 10 ÷ 14
        left: 3.3674846625766871%
        bottom: 0.5em

      span.title
        position: absolute
        bottom: 0
        left: 0
        height: 0px
        font-size: 1em
        line-height: 1.25em
        color: #777
        padding-top: 0.4375em
        font-style: italic
        background: #fff
        overflow: hidden
        vertical-align: top
        display: block
        opacity: 0
        width: 100%
        -webkit-transition: opacity 0.5s, height 0.3s

      img.photo
        width: 100%
        border-radius: 2px
    //   // top: 0.712857142857143em // 10 ÷ 14
    //   top: 0
    //   left: 3.3674846625766871% // 10 ÷ 326 and subpixel fix
    //   image-rendering: optimizequality
    //   // + fluid
    //   max-width: 93.865030674846628% // 306 ÷ 326
    //   // margin-left: 3.3674846625766871% // 10 ÷ 326 and subpixel fix

    &:hover
      ul.stats
        bottom: 2.5em
        height: 0

      ul.actions
        bottom: 0.5em
        height: 20px

    ul.actions
      height: 0
      bottom: -1em

      li.action-like
        cursor: pointer
        line-height: 20px
        float: left
        background: #999 url('/assets/like-transparent.png') 5px center no-repeat
        padding-left: 20px
        color: #fff
        width: 32px
        box-shadow: inset transparentize(#fff, 0.7) 0px 10px 10px
        border-radius: 2px
        font-size: 13px
        text-shadow: transparentize(#000, 0.5) 0px -1px 1px
        -webkit-transition: background-color 0.3s

        &:hover
          background-color: #f33

        &.down
          bottom: 0.5em
          height: 20px
          background: #ddd url('/assets/button-spinner.gif') center no-repeat
          position: relative
          top: 1px
          box-shadow: inset transparentize(#000, 0.9) 0px 1px 1px
          -webkit-transition: none

        &.toggled
          text-align: center
          background-image: none
          padding-left: 0
          width: 52px

          &.down
            background-image: url('/assets/button-spinner.gif')

    ul.stats, ul.actions
      position: absolute
      right: 3.0674846625766871%
      bottom: 0.5em
      background: #fff
      display: block
      overflow: hidden
      -webkit-transition: height 0.2s, bottom 0.2s
      // + fluid
      // margin-right: 3.0674846625766871% // 10 ÷ 326

    ul.stats
      height: 20px

      li
        display: inline
        line-height: 20px
        color: #999
        padding-left: 14px
        background:
          repeat: no-repeat
          position: 0px 3px

        b
          font-weight: normal

        span
          display: none

        &:first-child
          margin-right: 5px

        &.like
          background:
            image: url('/assets/like.gif')

          &.liked
            color: #ff400d
            background:
              image: url('/assets/like-red.gif')

        &.comment
          background:
            image: url('/assets/comment.gif')

        &.button
          display: none

      &:hover
        .like, .comment
          top: 40px


    // ---------
    span
      line-height: 20px

      &.user
        width: 93.865030674846628%
        font-weight:  bold
        display: block
        position: relative
        overflow: hidden
        margin:
          left: 3.3674846625766871% // 10 ÷ 326 and subpixel fix
          bottom: 0.5em

        img
          width:    20px
          height:   20px
          padding:  0
          position: absolute
          top: 0
          left: 0
          border-radius: 2px

        a
          margin-left: 25px

  #fake-preloader
    color: #999
    background: none
    padding: 0
    box-shadow: none
    border-radius: none
    display: block
    float: left

    p
      font-size: 18px
      line-height: 24px

    img
      float: left
      margin-right: 7px